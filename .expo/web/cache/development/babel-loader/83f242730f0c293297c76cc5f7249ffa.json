{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\19don\\\\OneDrive\\\\Desktop\\\\Athlete-App\\\\Athlete-App\\\\src\\\\screens\\\\SigninScreen.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Vibration from \"react-native-web/dist/exports/Vibration\";\nimport { KeyboardAwareScrollView } from \"react-native-keyboard-aware-scroll-view\";\nimport CreateAccountButton from \"../components/CreateAccountButton\";\nimport LoginBar from \"../components/LoginBar\";\nimport LoginButton from \"../components/LoginButton\";\nimport Spacer from \"../components/Spacer\";\nimport { firebase } from \"../../firebase/config\";\nimport Animated from \"react-native-reanimated\";\n\nvar SigninScreen = function SigninScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      opacity = _useState6[0],\n      setOpacity = _useState6[1];\n\n  var onLoginPress = function onLoginPress() {\n    firebase.auth().signInWithEmailAndPassword(email, password).then(function (response) {\n      var uid = response.user.uid;\n      var usersRef = firebase.firestore().collection(\"users\");\n      usersRef.doc(uid).get().then(function (firestoreDocument) {\n        if (!firestoreDocument.exists) {\n          Alert.alert(\"User does not exist anymore.\");\n          return;\n        }\n\n        var user = firestoreDocument.data();\n\n        if (user[\"type\"] === \"coach\") {\n          navigation.navigate(\"coachFlow\");\n        } else {\n          navigation.navigate(\"athleteFlow\");\n        }\n      }).catch(function (error) {\n        Alert.alert(error);\n      });\n    }).catch(function (exception) {\n      setOpacity(1);\n      Vibration.vibrate();\n      var timer = setTimeout(function () {\n        setOpacity(0);\n      }, 2000);\n      return function () {\n        return clearTimeout(timer);\n      };\n    });\n  };\n\n  return React.createElement(TouchableWithoutFeedback, {\n    onPress: Keyboard.dismiss,\n    accessible: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.viewStyle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, React.createElement(Spacer, {\n    space: 40,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: styles.kumoStyle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, \"KUMO\"), React.createElement(View, {\n    style: styles.underlineStyle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: styles.metricStyle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"Metrics\"), React.createElement(Spacer, {\n    space: \"5%\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), React.createElement(LoginBar, {\n    text: \"Email\",\n    term: email,\n    onTermChange: setEmail,\n    secure: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }), React.createElement(LoginBar, {\n    text: \"Password\",\n    term: password,\n    onTermChange: setPassword,\n    secure: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: {\n      opacity: opacity\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.toastStyle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \"Incorrect email/password combination\")), React.createElement(Spacer, {\n    space: \"4%\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return onLoginPress();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.textStyle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, \"Login\")), React.createElement(Spacer, {\n    space: 10,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }), React.createElement(CreateAccountButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  })));\n};\n\nSigninScreen.navigationOptions = function () {\n  return {\n    header: function header() {\n      return false;\n    }\n  };\n};\n\nvar styles = StyleSheet.create({\n  viewStyle: {\n    alignItems: \"center\",\n    backgroundColor: \"black\",\n    flex: 1\n  },\n  kumoStyle: {\n    fontSize: 70,\n    fontWeight: \"bold\",\n    color: \"#8ecfff\",\n    marginTop: 150,\n    fontFamily: \"abnes\"\n  },\n  metricStyle: {\n    fontSize: 30,\n    color: \"#707070\",\n    bottom: 20,\n    marginLeft: 100,\n    fontWeight: \"bold\",\n    fontFamily: \"abnes\",\n    padding: 10\n  },\n  login: {\n    alignSelf: \"flex-start\",\n    left: 50\n  },\n  textStyle: {\n    color: \"#8ecfff\",\n    fontSize: 40,\n    marginTop: 20,\n    fontFamily: \"goodTimes\"\n  },\n  toastStyle: {\n    color: \"red\",\n    margin: 10,\n    fontSize: 17\n  }\n});\nexport default SigninScreen;","map":{"version":3,"sources":["C:/Users/19don/OneDrive/Desktop/Athlete-App/Athlete-App/src/screens/SigninScreen.js"],"names":["React","useEffect","useState","KeyboardAwareScrollView","CreateAccountButton","LoginBar","LoginButton","Spacer","firebase","Animated","SigninScreen","navigation","email","setEmail","password","setPassword","opacity","setOpacity","onLoginPress","auth","signInWithEmailAndPassword","then","response","uid","user","usersRef","firestore","collection","doc","get","firestoreDocument","exists","Alert","alert","data","navigate","catch","error","exception","Vibration","vibrate","timer","setTimeout","clearTimeout","Keyboard","dismiss","styles","viewStyle","kumoStyle","underlineStyle","metricStyle","toastStyle","textStyle","navigationOptions","header","StyleSheet","create","alignItems","backgroundColor","flex","fontSize","fontWeight","color","marginTop","fontFamily","bottom","marginLeft","padding","login","alignSelf","left","margin"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  View,\r\n  StyleSheet,\r\n  Text,\r\n  TouchableWithoutFeedback,\r\n  Keyboard,\r\n  TouchableOpacity,\r\n  Alert,\r\n  Vibration,\r\n} from \"react-native\";\r\nimport { KeyboardAwareScrollView } from \"react-native-keyboard-aware-scroll-view\";\r\nimport CreateAccountButton from \"../components/CreateAccountButton\";\r\nimport LoginBar from \"../components/LoginBar\";\r\nimport LoginButton from \"../components/LoginButton\";\r\nimport Spacer from \"../components/Spacer\";\r\nimport { firebase } from \"../../firebase/config\";\r\nimport Animated from \"react-native-reanimated\";\r\n\r\nconst SigninScreen = ({ navigation }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [opacity, setOpacity] = useState(0);\r\n\r\n  const onLoginPress = () => {\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then((response) => {\r\n        const uid = response.user.uid;\r\n        const usersRef = firebase.firestore().collection(\"users\");\r\n        usersRef\r\n          .doc(uid)\r\n          .get()\r\n          .then((firestoreDocument) => {\r\n            if (!firestoreDocument.exists) {\r\n              Alert.alert(\"User does not exist anymore.\");\r\n              return;\r\n            }\r\n            const user = firestoreDocument.data();\r\n            if (user[\"type\"] === \"coach\") {\r\n              navigation.navigate(\"coachFlow\");\r\n            } else {\r\n              navigation.navigate(\"athleteFlow\");\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            Alert.alert(error);\r\n          });\r\n      })\r\n      .catch((exception) => {\r\n        setOpacity(1);\r\n        Vibration.vibrate();\r\n        const timer = setTimeout(() => {\r\n          setOpacity(0);\r\n        }, 2000);\r\n        return () => clearTimeout(timer);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <TouchableWithoutFeedback onPress={Keyboard.dismiss} accessible={false}>\r\n      <View style={styles.viewStyle}>\r\n        <Spacer space={40} />\r\n        <Text style={styles.kumoStyle}>KUMO</Text>\r\n        <View style={styles.underlineStyle} />\r\n        <Text style={styles.metricStyle}>Metrics</Text>\r\n        <Spacer space={\"5%\"} />\r\n        <LoginBar\r\n          text={\"Email\"}\r\n          term={email}\r\n          onTermChange={setEmail}\r\n          secure={false}\r\n        />\r\n        <LoginBar\r\n          text={\"Password\"}\r\n          term={password}\r\n          onTermChange={setPassword}\r\n          secure={true}\r\n        />\r\n        <View style={{opacity: opacity}}>\r\n          <Text style={styles.toastStyle}>\r\n            Incorrect email/password combination\r\n          </Text>\r\n        </View>\r\n        <Spacer space={\"4%\"} />\r\n        <TouchableOpacity onPress={() => onLoginPress()}>\r\n          <Text style={styles.textStyle}>Login</Text>\r\n        </TouchableOpacity>\r\n        <Spacer space={10} />\r\n        <CreateAccountButton />\r\n      </View>\r\n    </TouchableWithoutFeedback>\r\n  );\r\n};\r\n\r\nSigninScreen.navigationOptions = () => {\r\n  return {\r\n    header: () => false,\r\n  };\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  viewStyle: {\r\n    alignItems: \"center\",\r\n    backgroundColor: \"black\",\r\n    flex: 1,\r\n  },\r\n  kumoStyle: {\r\n    fontSize: 70,\r\n    fontWeight: \"bold\",\r\n    color: \"#8ecfff\",\r\n    marginTop: 150,\r\n    fontFamily: \"abnes\",\r\n  },\r\n  metricStyle: {\r\n    fontSize: 30,\r\n    color: \"#707070\",\r\n    bottom: 20,\r\n    marginLeft: 100,\r\n    fontWeight: \"bold\",\r\n    fontFamily: \"abnes\",\r\n    padding: 10,\r\n  },\r\n  login: {\r\n    alignSelf: \"flex-start\",\r\n    left: 50,\r\n  },\r\n  textStyle: {\r\n    color: \"#8ecfff\",\r\n    fontSize: 40,\r\n    marginTop: 20,\r\n    fontFamily: \"goodTimes\",\r\n  },\r\n  toastStyle: {\r\n    color: \"red\",\r\n    margin: 10,\r\n    fontSize: 17,\r\n  },\r\n});\r\n\r\nexport default SigninScreen;\r\n"]},"metadata":{},"sourceType":"module"}